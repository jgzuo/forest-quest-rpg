<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forest Quest RPG - è¯Šæ–­æ¨¡å¼</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a2e;
            color: #fff;
            font-family: monospace;
        }
        #log {
            background: #0f0f23;
            padding: 20px;
            border-radius: 8px;
            max-height: 500px;
            overflow-y: auto;
        }
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-left: 3px solid #68d391;
        }
        .error {
            border-left-color: #ff0000;
            color: #ff6b6b;
        }
        .success {
            border-left-color: #68d391;
            color: #68d391;
        }
    </style>
</head>
<body>
    <h1>ğŸ” Forest Quest RPG - è¯Šæ–­æ¨¡å¼</h1>
    <div id="log"></div>

    <script>
        function addLog(message, type = 'info') {
            const log = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
            console.log(message);
        }

        addLog('å¼€å§‹è¯Šæ–­...', 'info');

        // æ£€æŸ¥Phaseræ˜¯å¦åŠ è½½
        if (typeof Phaser === 'undefined') {
            addLog('âŒ PhaseræœªåŠ è½½ï¼', 'error');
        } else {
            addLog(`âœ… Phaserå·²åŠ è½½ (ç‰ˆæœ¬: ${Phaser.VERSION})`, 'success');
        }

        // æ£€æŸ¥æ‰€æœ‰å¿…éœ€çš„ç±»
        const requiredClasses = [
            'BootScene',
            'GameScene',
            'VictoryScene',
            'SaveManager',
            'SceneManager',
            'ShopManager',
            'Quest',
            'QuestManager',
            'AudioManager',
            'AchievementManager',
            'QuestTracker',
            'QuestLogPanel',
            'Boss'
        ];

        requiredClasses.forEach(className => {
            if (typeof window[className] !== 'undefined') {
                addLog(`âœ… ${className} å·²å®šä¹‰`, 'success');
            } else {
                addLog(`âŒ ${className} æœªå®šä¹‰ï¼`, 'error');
            }
        });

        // æ£€æŸ¥localStorage
        try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            addLog('âœ… localStorage å¯ç”¨', 'success');
        } catch (e) {
            addLog(`âŒ localStorage ä¸å¯ç”¨: ${e.message}`, 'error');
        }

        addLog('è¯Šæ–­å®Œæˆï¼', 'info');
        addLog('å¦‚æœæ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡ï¼Œè¯·æŒ‰F12æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°è·å–æ›´å¤šä¿¡æ¯', 'info');
    </script>

    <!-- Phaser.js -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>

    <!-- Game Scripts -->
    <script src="src/utils/SaveManager.js"></script>
    <script src="src/utils/SceneManager.js"></script>
    <script src="src/utils/ShopManager.js"></script>
    <script src="src/utils/Quest.js"></script>
    <script src="src/utils/QuestManager.js"></script>
    <script src="src/utils/AudioManager.js"></script>
    <script src="src/utils/AchievementManager.js"></script>
    <script src="src/ui/QuestTracker.js"></script>
    <script src="src/ui/QuestLogPanel.js"></script>
    <script src="src/entities/Boss.js"></script>
    <script src="src/scenes/BootScene.js"></script>
    <script src="src/scenes/GameScene.js"></script>
    <script src="src/scenes/VictoryScene.js"></script>
</body>
</html>
