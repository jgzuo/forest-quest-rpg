<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤éªŒè¯ - Forest Quest RPG</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #667eea;
            text-align: center;
            margin-top: 0;
        }
        .status {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 18px;
        }
        .status.pending {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
        }
        .status.success {
            background: #d4edda;
            border-left: 5px solid #28a745;
        }
        .status.error {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
        }
        .step {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .step h3 {
            margin-top: 0;
            color: #495057;
        }
        code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        kbd {
            background: #212529;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-family: monospace;
        }
        .button {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            margin: 10px;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .button:hover {
            transform: scale(1.05);
        }
        iframe {
            border: 2px solid #667eea;
            border-radius: 10px;
            width: 100%;
            height: 650px;
        }
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .checklist li::before {
            content: "â˜ ";
            color: #667eea;
            font-size: 20px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® Forest Quest RPG - ä¿®å¤éªŒè¯</h1>

        <div class="status pending" id="version-status">
            <strong>â³ ç­‰å¾…æ£€æµ‹ç‰ˆæœ¬...</strong>
            <p>è¯·åœ¨ä¸‹æ–¹iframeä¸­åŠ è½½æ¸¸æˆï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ç‰ˆæœ¬</p>
        </div>

        <div class="step">
            <h3>æ­¥éª¤1: å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨</h3>
            <p>è¿™æ˜¯<strong>æœ€é‡è¦</strong>çš„ä¸€æ­¥ï¼æ™®é€šåˆ·æ–°ä¸ä¼šæ¸…é™¤ç¼“å­˜ã€‚</p>
            <p><strong>Windows/Linux:</strong> <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd></p>
            <p><strong>Mac:</strong> <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd></p>
        </div>

        <div class="step">
            <h3>æ­¥éª¤2: åŠ è½½æ¸¸æˆå¹¶æ£€æŸ¥ç‰ˆæœ¬</h3>
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®åŠ è½½æ¸¸æˆï¼Œç„¶åæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆæŒ‰ <kbd>F12</kbd>ï¼‰æ£€æŸ¥ç‰ˆæœ¬å·</p>
            <a href="http://127.0.0.1:55573/index.html" target="_blank" class="button">ğŸ® åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æ¸¸æˆ</a>
            <p><strong>æˆ–è€…åœ¨ä¸‹æ–¹iframeä¸­æŸ¥çœ‹ï¼š</strong></p>
            <button class="button" onclick="loadGame()">ğŸ“¦ åœ¨iframeä¸­åŠ è½½æ¸¸æˆ</button>
            <br><br>
            <iframe id="game-frame" src="about:blank"></iframe>
        </div>

        <div class="step">
            <h3>æ­¥éª¤3: æ£€æŸ¥æ§åˆ¶å°è¾“å‡º</h3>
            <p>æ‰“å¼€æ§åˆ¶å°åï¼Œåº”è¯¥çœ‹åˆ°ï¼š</p>
            <pre style="background: #e9ecef; padding: 15px; border-radius: 8px;">
ğŸ® GameScene åˆå§‹åŒ– v2.0
ğŸ‘¤ ç©å®¶åˆ›å»ºå®Œæˆ v2.0</pre>
            <p>å¦‚æœçœ‹åˆ° <strong>v2.0</strong>ï¼Œè¯´æ˜æ–°ä»£ç å·²åŠ è½½ï¼</p>
        </div>

        <div class="step">
            <h3>æ­¥éª¤4: æµ‹è¯•ç§»åŠ¨</h3>
            <ul class="checklist">
                <li>æŒ‰ <kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> ç§»åŠ¨è§’è‰²</li>
                <li>è§‚å¯Ÿå±å¹•ä¸Šæ˜¯å¦åªæœ‰<strong>1ä¸ª</strong>ä¸»è§’</li>
                <li>åœæ­¢æŒ‰é”®ï¼Œç¡®è®¤è¿˜æ˜¯<strong>1ä¸ª</strong>ä¸»è§’</li>
                <li>æµ‹è¯•æ‰€æœ‰æ–¹å‘ï¼šä¸Šã€ä¸‹ã€å·¦ã€å³</li>
            </ul>
        </div>

        <div class="step">
            <h3>æ­¥éª¤5: è¯Šæ–­ä»£ç </h3>
            <p>å¦‚æœé—®é¢˜ä»å­˜åœ¨ï¼Œåœ¨æ§åˆ¶å°ç²˜è´´ä»¥ä¸‹ä»£ç è¯Šæ–­ï¼š</p>
            <pre style="background: #e9ecef; padding: 15px; border-radius: 8px; overflow-x: auto;">
const scene = game.scene.scenes.find(s => s.scene.key === 'GameScene');
let count = 0;
scene.children.each(c => {
    if (c.texture?.key?.startsWith('hero')) count++;
});
console.log('Heroå¯¹è±¡æ•°é‡:', count);
console.log('ç©å®¶ä½ç½®:', { x: scene.player.x, y: scene.player.y });
console.log('flipX:', scene.player.flipX);
console.log('çº¹ç†:', scene.player.texture.key);</pre>
            <p>åº”è¯¥è¾“å‡º Heroå¯¹è±¡æ•°é‡: <strong>1</strong></p>
        </div>

        <div class="status error" id="troubleshooting">
            <h3>ğŸ”§ é—®é¢˜æ’æŸ¥</h3>
            <p><strong>å¦‚æœæ§åˆ¶å°æ˜¾ç¤ºçš„ä¸æ˜¯v2.0ï¼š</strong></p>
            <ol>
                <li>å†æ¬¡å¼ºåˆ¶åˆ·æ–°ï¼š<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd></li>
                <li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼šè®¾ç½® â†’ éšç§ â†’ æ¸…é™¤æµè§ˆæ•°æ®</li>
                <li>æˆ–ä½¿ç”¨éšç§/æ— ç—•æ¨¡å¼æµ‹è¯•</li>
            </ol>
            <p><strong>å¦‚æœv2.0ä½†ä»æœ‰å¤šä¸ªä¸»è§’ï¼š</strong></p>
            <ol>
                <li>æ£€æŸ¥æ˜¯å¦æ˜¯æ˜¾ç¤ºå™¨æ®‹å½±ï¼ˆå›ºå®šä½ç½®è§‚å¯Ÿï¼‰</li>
                <li>å°è¯•å…¶ä»–æµè§ˆå™¨ï¼ˆChrome, Firefox, Edgeï¼‰</li>
                <li>æä¾›æ§åˆ¶å°è¯Šæ–­è¾“å‡º</li>
            </ol>
        </div>
    </div>

    <script>
        function loadGame() {
            const iframe = document.getElementById('game-frame');
            iframe.src = 'http://127.0.0.1:55573/index.html';

            setTimeout(() => {
                try {
                    const gameWindow = iframe.contentWindow;
                    const consoleOutput = gameWindow.console;

                    document.getElementById('version-status').className = 'status success';
                    document.getElementById('version-status').innerHTML = `
                        <strong>âœ… æ¸¸æˆå·²åŠ è½½</strong>
                        <p>è¯·æ‰“å¼€iframeçš„æ§åˆ¶å°æ£€æŸ¥ç‰ˆæœ¬å·</p>
                        <p>åº”è¯¥çœ‹åˆ°: "ğŸ® GameScene åˆå§‹åŒ– v2.0"</p>
                    `;
                } catch (e) {
                    document.getElementById('version-status').className = 'status error';
                    document.getElementById('version-status').innerHTML = `
                        <strong>âŒ æ— æ³•è®¿é—®iframeå†…å®¹</strong>
                        <p>è¯·ç›´æ¥åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æ¸¸æˆå¹¶æ£€æŸ¥</p>
                    `;
                }
            }, 3000);
        }

        // é¡µé¢åŠ è½½åçš„æç¤º
        window.onload = () => {
            console.log('%cğŸ® Forest Quest RPG - ä¿®å¤éªŒè¯é¡µé¢', 'font-size: 20px; color: #667eea;');
            console.log('%cè¯·æŒ‰ç…§é¡µé¢ä¸Šçš„æ­¥éª¤éªŒè¯ä¿®å¤æ˜¯å¦ç”Ÿæ•ˆ', 'font-size: 14px;');
            console.log('%cé‡ç‚¹ï¼šå¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ (Ctrl+Shift+R)', 'font-size: 14px; color: #ff6b6b;');
        };
    </script>
</body>
</html>
