<!DOCTYPE html>
<html>
<head>
    <title>NPC Image Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #4facfe;
            padding-bottom: 10px;
        }
        h2 {
            color: #666;
            margin-top: 30px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        .image-container {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }
        .image-box {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 2px solid #ddd;
        }
        .image-box h3 {
            margin: 0 0 10px 0;
            color: #4facfe;
            font-size: 14px;
        }
        img {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            border: 1px solid #ccc;
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #2196F3;
            margin: 20px 0;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .grid-item {
            background: white;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
        }
        canvas {
            border: 1px solid #999;
            background: repeating-conic-gradient(#f0f0f0 0% 25%, #ffffff 0% 50%) 50% / 20px 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” NPC å›¾ç‰‡åˆ†æå·¥å…·</h1>

        <div class="section">
            <h2>åŸå§‹å›¾ç‰‡</h2>
            <div class="info">
                <strong>æ–‡ä»¶:</strong> assets/characters/npc.png<br>
                <strong>å°ºå¯¸:</strong> 48 x 64 åƒç´ 
            </div>
            <div class="image-container">
                <div class="image-box">
                    <h3>åŸå§‹å›¾ç‰‡ (48x64)</h3>
                    <img src="assets/characters/npc.png" style="width: 96px; height: 128px;">
                </div>
                <div class="image-box">
                    <h3>æ”¾å¤§4å€ (192x256)</h3>
                    <img src="assets/characters/npc.png" style="width: 192px; height: 256px;">
                </div>
                <div class="image-box">
                    <h3>æ”¾å¤§8å€ (384x512)</h3>
                    <img src="assets/characters/npc.png" style="width: 384px; height: 512px;">
                </div>
            </div>
        </div>

        <div class="section">
            <h2>å¯èƒ½çš„Spritesheetç»“æ„åˆ†æ</h2>

            <h3>æ–¹æ¡ˆ1: 3åˆ—2è¡Œ (æ¯å¸§16x32) - æœ€å¸¸è§</h3>
            <div class="info">
                å¦‚æœNPCå›¾ç‰‡åŒ…å«å‰ã€åã€ä¾§ç­‰æ–¹å‘çš„å›¾ï¼Œæœ€å¯èƒ½çš„ç»“æ„æ˜¯3åˆ—2è¡Œæˆ–2åˆ—3è¡Œ<br>
                æ¯å¸§å°ºå¯¸: 16x32 æˆ– 16x21
            </div>
            <div class="grid" id="grid1"></div>

            <h3>æ–¹æ¡ˆ2: 2åˆ—2è¡Œ (æ¯å¸§24x32)</h3>
            <div class="grid" id="grid2"></div>

            <h3>æ–¹æ¡ˆ3: 4åˆ—2è¡Œ (æ¯å¸§12x32)</h3>
            <div class="grid" id="grid3"></div>
        </div>

        <div class="section">
            <h2>Canvas åˆ‡ç‰‡åˆ†æ</h2>
            <canvas id="canvas" width="400" height="400"></canvas>
        </div>
    </div>

    <script>
        // åŠ è½½NPCå›¾ç‰‡å¹¶åˆ†æ
        const img = new Image();
        img.onload = function() {
            analyzeNPCImage(img);
        };
        img.src = 'assets/characters/npc.png';

        function analyzeNPCImage(img) {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');

            // ç»˜åˆ¶ç½‘æ ¼åˆ†æ
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // åŸå§‹å›¾ç‰‡
            ctx.font = '14px Arial';
            ctx.fillStyle = '#333';
            ctx.fillText('åŸå§‹å›¾ç‰‡ (48x64):', 10, 20);
            ctx.drawImage(img, 10, 30, 48, 64);

            // 3åˆ—2è¡Œæ–¹æ¡ˆ (16x32æ¯å¸§)
            ctx.fillText('3åˆ—2è¡Œ (16x32):', 80, 20);
            for (let col = 0; col < 3; col++) {
                for (let row = 0; row < 2; row++) {
                    ctx.drawImage(
                        img,
                        col * 16, row * 32, 16, 32,  // æºçŸ©å½¢
                        80 + col * 35, 30 + row * 70, 16, 32  // ç›®æ ‡ä½ç½®ï¼ˆæ”¾å¤§ï¼‰
                    );
                }
            }

            // 2åˆ—3è¡Œæ–¹æ¡ˆ (24x21æ¯å¸§)
            ctx.fillText('2åˆ—3è¡Œ (24x21):', 220, 20);
            for (let col = 0; col < 2; col++) {
                for (let row = 0; row < 3; row++) {
                    ctx.drawImage(
                        img,
                        col * 24, row * 21, 24, 21,
                        220 + col * 50, 30 + row * 50, 24, 21
                    );
                }
            }

            // ç”ŸæˆHTMLç½‘æ ¼
            generateGrids(img);
        }

        function generateGrids(img) {
            // æ–¹æ¡ˆ1: 3åˆ—2è¡Œ (16x32)
            const grid1 = document.getElementById('grid1');
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 3; col++) {
                    const canvas = document.createElement('canvas');
                    canvas.width = 16;
                    canvas.height = 32;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, col * 16, row * 32, 16, 32, 0, 0, 16, 32);

                    const div = document.createElement('div');
                    div.className = 'grid-item';
                    div.innerHTML = `
                        <canvas width="64" height="128" style="border:1px solid #ddd;"></canvas>
                        <p style="font-size:12px;margin:5px 0;">[${col},${row}]</p>
                    `;
                    const canvas2 = div.querySelector('canvas');
                    const ctx2 = canvas2.getContext('2d');
                    ctx2.imageSmoothingEnabled = false;
                    ctx2.drawImage(canvas, 0, 0, 64, 128);
                    grid1.appendChild(div);
                }
            }

            // æ–¹æ¡ˆ2: 2åˆ—2è¡Œ (24x32)
            const grid2 = document.getElementById('grid2');
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 2; col++) {
                    const canvas = document.createElement('canvas');
                    canvas.width = 24;
                    canvas.height = 32;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, col * 24, row * 32, 24, 32, 0, 0, 24, 32);

                    const div = document.createElement('div');
                    div.className = 'grid-item';
                    div.innerHTML = `
                        <canvas width="72" height="96" style="border:1px solid #ddd;"></canvas>
                        <p style="font-size:12px;margin:5px 0;">[${col},${row}]</p>
                    `;
                    const canvas2 = div.querySelector('canvas');
                    const ctx2 = canvas2.getContext('2d');
                    ctx2.imageSmoothingEnabled = false;
                    ctx2.drawImage(canvas, 0, 0, 72, 96);
                    grid2.appendChild(div);
                }
            }

            // æ–¹æ¡ˆ3: 4åˆ—2è¡Œ (12x32)
            const grid3 = document.getElementById('grid3');
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 4; col++) {
                    const canvas = document.createElement('canvas');
                    canvas.width = 12;
                    canvas.height = 32;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, col * 12, row * 32, 12, 32, 0, 0, 12, 32);

                    const div = document.createElement('div');
                    div.className = 'grid-item';
                    div.innerHTML = `
                        <canvas width="48" height="128" style="border:1px solid #ddd;"></canvas>
                        <p style="font-size:12px;margin:5px 0;">[${col},${row}]</p>
                    `;
                    const canvas2 = div.querySelector('canvas');
                    const ctx2 = canvas2.getContext('2d');
                    ctx2.imageSmoothingEnabled = false;
                    ctx2.drawImage(canvas, 0, 0, 48, 128);
                    grid3.appendChild(div);
                }
            }
        }
    </script>
</body>
</html>
