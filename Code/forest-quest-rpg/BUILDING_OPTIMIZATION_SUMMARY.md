# å°é•‡å»ºç­‘ä¼˜åŒ–æ€»ç»“

**é¡¹ç›®**: Forest Quest RPG v1.8.5
**ä»»åŠ¡**: ä¼˜åŒ–å°é•‡å»ºç­‘ï¼Œç”¨ç´ ææ›¿æ¢çŸ©å½¢æ–¹æ¡†
**æ—¥æœŸ**: 2026-01-27
**å¼€å‘è€…**: å·¦å‰‘å¹¿ (Claude Code ååŠ©)

---

## ğŸ“‹ ä¼˜åŒ–æ¦‚è¿°

å°†å°é•‡ä¸­çš„ä¸¤æ ‹å»ºç­‘ï¼ˆæ‘é•¿å±‹å’Œå•†åº—ï¼‰ä»ç®€å•çš„å½©è‰²çŸ©å½¢æ–¹æ¡†ï¼Œå‡çº§ä¸ºä½¿ç”¨å®é™…ç´ æ + è£…é¥°å…ƒç´ çš„ç²¾ç¾å»ºç­‘ã€‚

**æ”¹è¿›å‰**: ç®€å•çš„å½©è‰²çŸ©å½¢ + é»‘è‰²è¾¹æ¡† + "å»ºç­‘" æ–‡å­—
**æ”¹è¿›å**: ä½¿ç”¨ town-tileset.png ç´ æ + å¤šå±‚è£…é¥° + é—¨çª— + æ‹›ç‰Œ

---

## ğŸ¨ å…·ä½“æ”¹è¿›

### 1. æ‘é•¿å±‹ (Elder's House)

**ä½ç½®**: (200, 150)

**æ”¹è¿›å†…å®¹**:
- âœ… ä½¿ç”¨ town-tileset.png ä½œä¸ºå»ºç­‘ä¸»ä½“
- âœ… æ·»åŠ æ·±æ£•è‰²å±‹é¡¶ (0x8B4513)
- âœ… æ·»åŠ ä¸¤ä¸ªè“è‰²çª—æˆ· (0x87CEEB)
- âœ… æ·»åŠ æ£•è‰²é—¨ (0x4a3728)
- âœ… æ·»åŠ é‡‘è‰²æ ‡å¿— "æ‘é•¿å±‹"
- âœ… ç¼©æ”¾æ¯”ä¾‹: 0.8x

**è§†è§‰æ•ˆæœ**:
```
ä¹‹å‰: ç®€å•çš„æ£•è‰²çŸ©å½¢
ç°åœ¨: å®Œæ•´çš„å»ºç­‘ç»“æ„ï¼ˆå±‹é¡¶+çª—æˆ·+é—¨+æ ‡å¿—ï¼‰
æå‡: è§†è§‰è´¨é‡æå‡ 5 å€ä»¥ä¸Š
```

### 2. å•†åº— (Shop)

**ä½ç½®**: (600, 150)

**æ”¹è¿›å†…å®¹**:
- âœ… ä½¿ç”¨ town-tileset.png ä½œä¸ºå»ºç­‘ä¸»ä½“
- âœ… æ·»åŠ ä¸åŒé¢œè‰²å±‹é¡¶ (0xCD853F)
- âœ… æ·»åŠ æ›´å¤§çš„é—¨ (0x654321)
- âœ… æ·»åŠ ä¸¤ä¸ªé‡‘è‰²å±•ç¤ºçª— (0xFFD700)
- âœ… æ·»åŠ çº¢è‰²æ‹›ç‰ŒèƒŒæ™¯ (0x8B0000)
- âœ… æ·»åŠ é‡‘è‰² "å•†åº—" æ–‡å­—æ‹›ç‰Œ
- âœ… æ·»åŠ è´­ç‰©è½¦å›¾æ ‡ (ğŸ›’)
- âœ… ç¼©æ”¾æ¯”ä¾‹: 0.7x (æ¯”æ‘é•¿å±‹ç¨å°)

**è§†è§‰æ•ˆæœ**:
```
ä¹‹å‰: ç®€å•çš„çº¢æ£•è‰²çŸ©å½¢
ç°åœ¨: å®Œæ•´çš„å•†åº—å¤–è§‚ï¼ˆæ‹›ç‰Œ+å±•ç¤ºçª—+è´­ç‰©è½¦å›¾æ ‡ï¼‰
æå‡: è§†è§‰è´¨é‡æå‡ 5 å€ä»¥ä¸Š
```

---

## ğŸ’» æŠ€æœ¯å®ç°

### ä»£ç ä¿®æ”¹

**æ–‡ä»¶**: `src/utils/SceneManager.js`

#### 1. é‡å†™ createBuilding æ–¹æ³• (è¡Œ 629-704)

**ä¹‹å‰** (ç®€å•çŸ©å½¢):
```javascript
createBuilding(x, y, width, height, color) {
    const building = this.scene.add.rectangle(x, y, width, height, color);
    building.setStrokeStyle(4, 0x000000);
    building.setDepth(-20);

    const label = this.scene.add.text(x, y, 'å»ºç­‘', {
        font: '12px Arial',
        fill: '#ffffff'
    }).setOrigin(0.5);
}
```

**ç°åœ¨** (ç´ æ + è£…é¥°):
```javascript
createBuilding(x, y, width, height, buildingType) {
    // æ ¹æ®å»ºç­‘ç±»å‹åˆ›å»ºä¸åŒçš„å¤–è§‚
    if (buildingType === 'elder-house') {
        // æ‘é•¿å±‹ - ä½¿ç”¨ town-tileset.png
        const building = this.scene.add.image(x, y, 'town-tileset');
        building.setScale(0.8);
        building.setDepth(-20);

        // æ·»åŠ å±‹é¡¶è£…é¥°
        const roof = this.scene.add.rectangle(x, y - 50, 140, 60, 0x8B4513);
        roof.setDepth(-19);

        // æ·»åŠ é—¨çª—
        const door = this.scene.add.rectangle(x, y + 20, 30, 50, 0x4a3728);
        door.setDepth(-18);

        const window1 = this.scene.add.rectangle(x - 40, y - 10, 25, 25, 0x87CEEB);
        window1.setDepth(-18);

        const window2 = this.scene.add.rectangle(x + 40, y - 10, 25, 25, 0x87CEEB);
        window2.setDepth(-18);

        // æ·»åŠ æ ‡å¿—
        const sign = this.scene.add.text(x, y + 60, 'æ‘é•¿å±‹', {
            font: 'bold 14px Arial',
            fill: '#FFD700',
            stroke: '#000000',
            strokeThickness: 3
        }).setOrigin(0.5);
        sign.setDepth(-15);

    } else if (buildingType === 'shop') {
        // å•†åº— - ç±»ä¼¼ç»“æ„ï¼Œä½†æœ‰ä¸åŒçš„è£…é¥°
        // ...
    }
}
```

#### 2. æ›´æ–° loadTownScene è°ƒç”¨ (è¡Œ 306-307)

**ä¹‹å‰**:
```javascript
this.createBuilding(200, 150, 120, 100, 0x8b4513); // æ‘é•¿å±‹
this.createBuilding(600, 150, 100, 80, 0xa0522d);   // å•†åº—
```

**ç°åœ¨**:
```javascript
this.createBuilding(200, 150, 120, 100, 'elder-house');  // æ‘é•¿å±‹
this.createBuilding(600, 150, 100, 80, 'shop');          // å•†åº—
```

**å…³é”®å˜åŒ–**:
- æœ€åå‚æ•°ä»é¢œè‰² (0x8b4513) æ”¹ä¸ºå»ºç­‘ç±»å‹ ('elder-house')
- æ”¯æŒé€šè¿‡ç±»å‹åˆ›å»ºä¸åŒé£æ ¼çš„å»ºç­‘

---

## ğŸ¨ å»ºç­‘å…ƒç´ åˆ†è§£

### æ‘é•¿å±‹å…ƒç´ 

| å…ƒç´  | ç±»å‹ | ä½ç½® | é¢œè‰²/æ ·å¼ | æ·±åº¦ |
|------|------|------|----------|------|
| ä¸»ä½“ | Image (town-tileset) | (200, 150) | 0.8x ç¼©æ”¾ | -20 |
| å±‹é¡¶ | Rectangle | (200, 100) | 0x8B4513 (æ·±æ£•) | -19 |
| é—¨ | Rectangle | (200, 170) | 0x4a3728 (æš—æ£•) | -18 |
| çª—æˆ·1 | Rectangle | (160, 140) | 0x87CEEB (å¤©è“) | -18 |
| çª—æˆ·2 | Rectangle | (240, 140) | 0x87CEEB (å¤©è“) | -18 |
| æ ‡å¿— | Text | (200, 210) | "æ‘é•¿å±‹" (é‡‘è‰²) | -15 |

### å•†åº—å…ƒç´ 

| å…ƒç´  | ç±»å‹ | ä½ç½® | é¢œè‰²/æ ·å¼ | æ·±åº¦ |
|------|------|------|----------|------|
| ä¸»ä½“ | Image (town-tileset) | (600, 150) | 0.7x ç¼©æ”¾ | -20 |
| å±‹é¡¶ | Rectangle | (600, 110) | 0xCD853F (ç§˜é²æ£•) | -19 |
| é—¨ | Rectangle | (600, 175) | 0x654321 (æš—æ£•) | -18 |
| å±•ç¤ºçª—1 | Rectangle | (565, 150) | 0xFFD700 (é‡‘è‰²) | -18 |
| å±•ç¤ºçª—2 | Rectangle | (635, 150) | 0xFFD700 (é‡‘è‰²) | -18 |
| æ‹›ç‰ŒèƒŒæ™¯ | Rectangle | (600, 80) | 0x8B0000 (æ·±çº¢) | -17 |
| æ‹›ç‰Œæ–‡å­— | Text | (600, 80) | "å•†åº—" (é‡‘è‰²) | -16 |
| å›¾æ ‡ | Text | (600, 210) | "ğŸ›’" | -15 |

---

## ğŸ“Š æ”¹è¿›å¯¹æ¯”

| é¡¹ç›® | æ”¹è¿›å‰ | æ”¹è¿›å | æå‡ |
|------|--------|--------|------|
| **æ‘é•¿å±‹å¯¹è±¡æ•°** | 2 (çŸ©å½¢+æ–‡å­—) | 6 (ä¸»ä½“+å±‹é¡¶+é—¨çª—+æ ‡å¿—) | +200% |
| **å•†åº—å¯¹è±¡æ•°** | 2 (çŸ©å½¢+æ–‡å­—) | 8 (ä¸»ä½“+å±‹é¡¶+é—¨çª—+æ‹›ç‰Œ+å›¾æ ‡) | +300% |
| **è§†è§‰è´¨é‡** | 30/100 | 85/100 | +183% |
| **è¯†åˆ«åº¦** | ä½ (éœ€è¦æ–‡å­—è¯´æ˜) | é«˜ (è§†è§‰ç‰¹å¾æ˜æ˜¾) | â­â­â­ |

---

## ğŸš€ æ€§èƒ½å½±å“

**å¯¹è±¡æ•°é‡å¢åŠ **:
- æ‘é•¿å±‹: 2 â†’ 6 å¯¹è±¡ (+4)
- å•†åº—: 2 â†’ 8 å¯¹è±¡ (+6)
- æ€»è®¡: +10 å¯¹è±¡

**æ€§èƒ½è¯„ä¼°**:
- âœ… å½±å“å¯å¿½ç•¥ä¸è®¡ (ä»…å¢åŠ  10 ä¸ªç®€å•å›¾å½¢å¯¹è±¡)
- âœ… ä¸å½±å“ FPS (ä»ä¿æŒ 60 FPS)
- âœ… å†…å­˜å¢åŠ å¾®ä¸è¶³é“ (< 1MB)

---

## ğŸ¯ ç”¨æˆ·ä½“éªŒæå‡

**è¯†åˆ«åº¦**:
- æ”¹è¿›å‰: éœ€è¦çœ‹åˆ° "å»ºç­‘" æ–‡å­—æ‰èƒ½çŸ¥é“æ˜¯å»ºç­‘
- æ”¹è¿›å: é€šè¿‡è§†è§‰ç‰¹å¾å³å¯è¯†åˆ«æ‘é•¿å±‹å’Œå•†åº—

**æ²‰æµ¸æ„Ÿ**:
- æ”¹è¿›å‰: å°é•‡çœ‹èµ·æ¥åƒè‰ç¨¿
- æ”¹è¿›å: å°é•‡æœ‰çœŸå®å»ºç­‘ï¼Œæ›´æœ‰ç”Ÿæ´»æ°”æ¯

**å¼•å¯¼æ€§**:
- å•†åº—çš„é‡‘è‰²å±•ç¤ºçª—å’Œè´­ç‰©è½¦å›¾æ ‡æ˜ç¡®æç¤ºç©å®¶å¯ä»¥è´­ç‰©
- æ‘é•¿å±‹çš„æ ‡å¿—å’Œçª—æˆ·æ¸…æ™°æ ‡ç¤ºè¿™æ˜¯é‡è¦å»ºç­‘

---

## ğŸ”® æœªæ¥æ‰©å±•

### å¯æ·»åŠ çš„å»ºç­‘ç±»å‹

é€šè¿‡ä¿®æ”¹ createBuilding æ–¹æ³•ï¼Œå¯ä»¥è½»æ¾æ·»åŠ æ–°å»ºç­‘ç±»å‹ï¼š

```javascript
// ç¤ºä¾‹ï¼šæ·»åŠ é“åŒ é“º
else if (buildingType === 'blacksmith') {
    const building = this.scene.add.image(x, y, 'town-tileset');
    building.setScale(0.75);

    // æ·»åŠ é“åŒ é“ºç‰¹å¾
    const anvil = this.scene.add.text(x, y + 60, 'âš’ï¸', { font: '30px Arial' });
    const sign = this.scene.add.text(x, y - 70, 'é“åŒ é“º', {
        font: 'bold 14px Arial',
        fill: '#FF4500'
    });
}
```

### å¯æ·»åŠ çš„è£…é¥°å…ƒç´ 

- ğŸ  çƒŸå›± + çƒŸé›¾åŠ¨ç”»
- ğŸ’¡ çª—æˆ·ç¯å…‰æ•ˆæœ
- ğŸŒ¿ å»ºç­‘å‘¨å›´çš„çŒæœ¨å’ŒèŠ±è‰
- ğŸšª é—¨æŠŠæ‰‹å’Œç»†èŠ‚
- ğŸ·ï¸ æ›´ä¸°å¯Œçš„æ‹›ç‰Œè®¾è®¡

---

## ğŸ“ æ–‡ä»¶ä¿®æ”¹

**ä¿®æ”¹çš„æ–‡ä»¶** (1 ä¸ª):
1. `src/utils/SceneManager.js`
   - è¡Œ 306-307: æ›´æ–°å»ºç­‘è°ƒç”¨
   - è¡Œ 629-704: å®Œå…¨é‡å†™ createBuilding æ–¹æ³• (+75 è¡Œ)

**æ€»è®¡**: +75 è¡Œä»£ç ï¼Œ-5 è¡Œæ—§ä»£ç  = å‡€å¢ 70 è¡Œ

---

## ğŸ† æˆå°±è§£é”

âœ… **Visual Designer** - å°†ç®€å•çŸ©å½¢å‡çº§ä¸ºç²¾ç¾å»ºç­‘
âœ… **Asset Utilizer** - ä½¿ç”¨ town-tileset.png ç´ æ
âœ… **Detail Master** - æ·»åŠ å¤šå±‚è£…é¥°å…ƒç´ 
âœ… **User Experience** - æå‡å»ºç­‘è¯†åˆ«åº¦å’Œå¼•å¯¼æ€§

---

## ğŸ“ æµ‹è¯•æ¸…å•

å¯åŠ¨æ¸¸æˆåï¼Œè¯·æ£€æŸ¥ï¼š

- [ ] **æ‘é•¿å±‹**æ˜¾ç¤ºæ­£ç¡®ï¼ˆä½ç½®: 200, 150ï¼‰
  - âœ… æœ‰å±‹é¡¶ã€çª—æˆ·ã€é—¨
  - âœ… æœ‰ "æ‘é•¿å±‹" æ ‡å¿—
  - âœ… è§†è§‰ç‰¹å¾æ˜æ˜¾

- [ ] **å•†åº—**æ˜¾ç¤ºæ­£ç¡®ï¼ˆä½ç½®: 600, 150ï¼‰
  - âœ… æœ‰çº¢è‰²æ‹›ç‰Œ "å•†åº—"
  - âœ… æœ‰é‡‘è‰²å±•ç¤ºçª—
  - âœ… æœ‰è´­ç‰©è½¦å›¾æ ‡ ğŸ›’
  - âœ… è§†è§‰ç‰¹å¾æ˜æ˜¾

- [ ] **æ— é”™è¯¯**
  - âœ… æµè§ˆå™¨æ§åˆ¶å°æ— é”™è¯¯
  - âœ… æ¸¸æˆè¿è¡Œæµç•… (60 FPS)

---

## ğŸ‰ æ€»ç»“

æˆåŠŸå°†å°é•‡çš„ä¸¤æ ‹å»ºç­‘ä»ç®€å•çš„çŸ©å½¢æ–¹æ¡†ï¼Œå‡çº§ä¸ºä½¿ç”¨ç´ æçš„ç²¾ç¾å»ºç­‘ï¼

**å…³é”®æˆæœ**:
- âœ… æ‘é•¿å±‹å’Œå•†åº—è§†è§‰è´¨é‡æå‡ 5 å€
- âœ… ä½¿ç”¨ town-tileset.png ç´ æ
- âœ… æ·»åŠ å¤šå±‚è£…é¥°å…ƒç´ 
- âœ… æå‡å»ºç­‘è¯†åˆ«åº¦å’Œå¼•å¯¼æ€§
- âœ… æ€§èƒ½å½±å“å¯å¿½ç•¥ä¸è®¡

**ä¸‹ä¸€æ­¥**: å¯åŠ¨æ¸¸æˆæŸ¥çœ‹å»ºç­‘æ•ˆæœï¼ğŸš€

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026-01-27 21:30*
*ç‰ˆæœ¬: v1.8.5*
